# Bulgarian Voice Coach - Environment Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# LLM Provider Configuration (Choose one)
# =============================================================================

# Chat provider selection
# Options: auto, openai, claude, dummy
# 'auto' will detect based on available API keys
CHAT_PROVIDER=auto

# OpenAI Configuration
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4o-mini

# Anthropic/Claude Configuration  
# Get your API key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-3-haiku-20240307

# =============================================================================
# ASR (Speech Recognition) Configuration
# =============================================================================

# Whisper model configuration
# Use 'tiny', 'base', 'small', 'medium', 'large', or a path to local model
# BENCHMARK RESULT: small model is 3x faster than medium (1180ms vs 3523ms)
# and meets the 2000ms latency target while medium model exceeds it by 76%
WHISPER_MODEL_PATH=small

# ASR processing parameters
WHISPER_LANGUAGE=bg
WHISPER_BEAM_SIZE=5
WHISPER_TEMPERATURE=0.0
WHISPER_NO_SPEECH_THRESHOLD=0.6

# =============================================================================
# TTS (Text-to-Speech) Configuration
# =============================================================================

# eSpeak NG voice configuration
ESPEAK_VOICE=bg
ESPEAK_SPEED=160
ESPEAK_PITCH=50

# =============================================================================
# Audio Processing Configuration
# =============================================================================

# Audio format settings
SAMPLE_RATE=16000
FRAME_DURATION_MS=20
VAD_AGGRESSIVENESS=2

# Voice Activity Detection (VAD) settings
# BENCHMARK RESULT: 300ms VAD tail timing is optimal for Bulgarian ASR
VAD_THRESHOLD=0.5
VAD_MIN_SPEECH_DURATION_MS=250
VAD_MAX_SPEECH_DURATION_MS=30000
VAD_MIN_SILENCE_DURATION_MS=500
VAD_SPEECH_PAD_MS=30
VAD_FRAME_LENGTH_MS=30

# =============================================================================
# Server Configuration
# =============================================================================

# FastAPI server settings
SERVER_HOST=127.0.0.1
SERVER_PORT=8000

# Development settings
DEBUG=false
LOG_LEVEL=INFO
RELOAD=true

# CORS settings (comma-separated origins)
ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# =============================================================================
# Content System Configuration  
# =============================================================================

# User's native language for contrastive explanations
# Options: PL (Polish), RU (Russian), UK (Ukrainian), SR (Serbian)
DEFAULT_L1_LANGUAGE=PL

# Content file paths (relative to server/)
GRAMMAR_PACK_PATH=content/bg_grammar_pack.json
SCENARIOS_PATH=content/bg_scenarios_with_grammar.json

# =============================================================================
# Development & Debugging
# =============================================================================

# Enable performance metrics
ENABLE_METRICS=false

# Enable request/response logging
LOG_REQUESTS=false

# Enable detailed ASR logging
LOG_ASR_DETAILS=false

# =============================================================================
# OpenTelemetry Configuration (Observability)
# =============================================================================

# Enable OpenTelemetry instrumentation
OTEL_ENABLED=false

# Service name for telemetry
OTEL_SERVICE_NAME=bulgarian-voice-coach

# Environment (affects resource attributes)
ENVIRONMENT=development

# Console export for development (logs traces/metrics to console)
OTEL_CONSOLE_EXPORT=false

# OTLP endpoint for traces (e.g., Jaeger, Honeycomb, etc.)
# OTEL_EXPORTER_OTLP_TRACES_ENDPOINT=http://localhost:4317

# OTLP endpoint for metrics
# OTEL_EXPORTER_OTLP_METRICS_ENDPOINT=http://localhost:4317

# Authentication headers for OTLP (if needed)
# Format: key1=value1,key2=value2
# OTEL_EXPORTER_OTLP_HEADERS=x-api-key=your-key

# =============================================================================
# Production Settings (for deployment)
# =============================================================================

# Security settings (uncomment for production)
# SECRET_KEY=your-secret-key-for-production
# ALLOWED_HOSTS=your-domain.com,www.your-domain.com

# Database settings (future feature)
# DATABASE_URL=sqlite:///./bulgarian_coach.db

# =============================================================================
# Installation Paths (optional - auto-detected if not specified)
# =============================================================================

# eSpeak NG installation path
# ESPEAK_PATH=/usr/bin/espeak-ng

# FFmpeg path (for audio processing)
# FFMPEG_PATH=/usr/bin/ffmpeg